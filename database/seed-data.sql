-- Template Seeds (30 modern templates)
insert into public.menu_templates (key, name, preview_image_url, base_config) values
('neon-night','Neon Night','https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1200&q=80','{"accent":"#7c3aed","radius":"1rem","glass":true}'),
('minimal-elegance','Minimal Elegance','https://images.unsplash.com/photo-1558618666-fcd25c85cd64?auto=format&fit=crop&w=1200&q=80','{"accent":"#111827","radius":"0.5rem"}'),
('dark-glass','Dark Glass','https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1200&q=80','{"accent":"#22d3ee","glass":true,"blur":8}'),
('retro-card','Retro Card','https://images.unsplash.com/photo-1533777419517-3e4017e2e15d?auto=format&fit=crop&w=1200&q=80','{"accent":"#ef4444","shadow":"lg"}'),
('photo-hero','Photo Hero','https://images.unsplash.com/photo-1499028344343-cd173ffc68a9?auto=format&fit=crop&w=1200&q=80','{"hero":"photo","overlay":0.4}'),
('grid-menu','Grid Menu','https://images.unsplash.com/photo-1521302200778-33500795e128?auto=format&fit=crop&w=1200&q=80','{"layout":"grid","columns":2}'),
('split-panels','Split Panels','https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80','{"layout":"split","accent":"#10b981"}'),
('chalk-board','Chalk Board','https://images.unsplash.com/photo-1514933651103-005eec06c04b?auto=format&fit=crop&w=1200&q=80','{"texture":"chalk","contrast":"high"}'),
('magazine','Magazine','https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80','{"layout":"magazine","serif":true}'),
('mono-zen','Mono Zen','https://images.unsplash.com/photo-1523477800337-0184d8f9f571?auto=format&fit=crop&w=1200&q=80','{"mono":true,"radius":"0.25rem"}'),
('elegant-modern','Elegant Modern','https://images.unsplash.com/photo-1523475472560-d2df97ec485c?auto=format&fit=crop&w=1200&q=80','{"accent":"#1e293b","elegant":true,"typography":"light"}'),
('cosmic-dark','Cosmic Dark','https://images.unsplash.com/photo-1526401485004-46910ecc8e51?auto=format&fit=crop&w=1200&q=80','{"accent":"#a855f7","dark":true,"gradient":true}'),
('glass-morphism','Glass Morphism','https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=1200&q=80','{"accent":"#8b5cf6","glass":true,"blur":20,"modern":true}'),
('luxury-gold','Luxury Gold','https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1200&q=80','{"accent":"#f59e0b","gold":true,"elegant":true}'),
('tropical-vibes','Tropical Vibes','https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80','{"accent":"#f97316","vibrant":true,"warm":true}'),
('ocean-breeze','Ocean Breeze','https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80','{"accent":"#06b6d4","cool":true,"fresh":true}'),
('neon-gradient','Neon Gradient','https://images.unsplash.com/photo-1526401485004-46910ecc8e51?auto=format&fit=crop&w=1200&q=80','{"accent":"#a855f7","neon":true,"animated":true}'),
('minimalist-white','Minimalist White','https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=1200&q=80','{"accent":"#000000","minimal":true,"bold":true}'),
('forest-nature','Forest Nature','https://images.unsplash.com/photo-1470337458703-46ad1756a187?auto=format&fit=crop&w=1200&q=80','{"accent":"#10b981","natural":true,"fresh":true}'),
('sunset-warm','Sunset Warm','https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=1200&q=80','{"accent":"#f97316","warm":true,"vibrant":true}'),
('aurora-luxe','Aurora Luxe','https://images.unsplash.com/photo-1526367790999-0150786686a2?auto=format&fit=crop&w=1200&q=80','{"accent":"#38bdf8","gradient":"aurora","mode":"dark"}'),
('modern-bento','Modern Bento','https://images.unsplash.com/photo-1521579971123-1192931a1452?auto=format&fit=crop&w=1200&q=80','{"accent":"#0ea5e9","layout":"bento","cards":true}'),
('pastel-dream','Pastel Dream','https://images.unsplash.com/photo-1523475472560-d2df97ec485c?auto=format&fit=crop&w=1200&q=80','{"accent":"#f472b6","pastel":true,"serif":true}'),
('ember-noir','Ember Noir','https://images.unsplash.com/photo-1542831371-d531d36971e6?auto=format&fit=crop&w=1200&q=80','{"accent":"#f97316","dark":true,"ember":true}'),
('botanical-garden','Botanical Garden','https://images.unsplash.com/photo-1470337458703-46ad1756a187?auto=format&fit=crop&w=1200&q=80','{"accent":"#047857","organic":true,"fresh":true}'),
('nordic-slate','Nordic Slate','https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80','{"accent":"#38bdf8","mode":"dark","layout":"slate"}'),
('neo-brutalist','Neo Brutalist','https://images.unsplash.com/photo-1529180979161-05b6dd0ebb62?auto=format&fit=crop&w=1200&q=80','{"accent":"#ef4444","blocks":true,"high_contrast":true}'),
('holographic-wave','Holographic Wave','https://images.unsplash.com/photo-1526401485004-46910ecc8e51?auto=format&fit=crop&w=1200&q=80','{"accent":"#a855f7","glass":true,"glow":true}'),
('velvet-dusk','Velvet Dusk','https://images.unsplash.com/photo-1520256862855-398228c41684?auto=format&fit=crop&w=1200&q=80','{"accent":"#f973c5","palette":"velvet","mood":"twilight"}'),
('celestial-ink','Celestial Ink','https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1200&q=80','{"accent":"#38bdf8","palette":"midnight","mood":"immersive"}'),
('gilded-art-deco','Gilded Art Deco','https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1200&q=80','{"accent":"#d4af37","style":"art_deco","luxury":true}'),
('savanna-sunset','Savanna Sunset','https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=1200&q=80','{"accent":"#ff6b35","palette":"sunset","warm":true}'),
('coastal-zen','Coastal Zen','https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80','{"accent":"#0284c7","palette":"coastal","fresh":true}')
on conflict (key) do nothing;

-- Cities
insert into public.cities (name, country_code, region, slug)
values ('Pristina','XK','Kosovo','pristina'),
       ('Tirana','AL','Albania','tirana'),
       ('Skopje','MK','North Macedonia','skopje')
on conflict (slug) do nothing;

-- Tenants
insert into public.tenants (name, slug, city_id, logo_url, is_active)
select 'Skyline Lounge','skyline',
       (select id from public.cities where slug='pristina'), null, true
where not exists (select 1 from public.tenants where slug='skyline');

insert into public.tenants (name, slug, city_id, logo_url, is_active)
select 'Garden Caf√©','garden',
       (select id from public.cities where slug='tirana'), null, true
where not exists (select 1 from public.tenants where slug='garden');

-- Tenant Domains (example placeholders)
insert into public.tenant_domains (tenant_id, domain, subdomain, is_primary)
select id, null, 'skyline', true from public.tenants where slug='skyline'
on conflict do nothing;

insert into public.tenant_domains (tenant_id, domain, subdomain, is_primary)
select id, null, 'garden', true from public.tenants where slug='garden'
on conflict do nothing;

-- Menus
insert into public.menus (tenant_id, name, slug, template_key, is_published, is_default, design_config)
select id, 'Main Menu', 'main', 'neon-night', true, true, '{}'::jsonb
from public.tenants where slug='skyline'
on conflict do nothing;

insert into public.menus (tenant_id, name, slug, template_key, is_published, is_default, design_config)
select id, 'Main Menu', 'main', 'minimal-elegance', true, true, '{}'::jsonb
from public.tenants where slug='garden'
on conflict do nothing;

-- Categories & Items for Skyline
with skyline_menu as (
  select m.id mid, t.id tid from public.menus m
  join public.tenants t on t.id = m.tenant_id
  where t.slug='skyline' and m.slug='main'
)
insert into public.categories (menu_id, tenant_id, name, description, sort_order, is_special)
select mid, tid, 'Cocktails', 'Signature drinks', 1, false from skyline_menu
union all
select mid, tid, 'Bites', 'Small plates', 2, false from skyline_menu
on conflict do nothing;

with skyline as (
  select c.id cid, c.tenant_id tid
  from public.categories c
  join public.menus m on m.id = c.menu_id
  join public.tenants t on t.id = m.tenant_id
  where t.slug='skyline' and m.slug='main' and c.name='Cocktails'
)
insert into public.menu_items (category_id, tenant_id, name, description, price, tags)
select cid, tid, 'Violet Breeze','Lavender gin, tonic, citrus', 7.50, array['signature','alcohol']
from skyline
on conflict do nothing;

-- Categories & Items for Garden
with garden_menu as (
  select m.id mid, t.id tid from public.menus m
  join public.tenants t on t.id = m.tenant_id
  where t.slug='garden' and m.slug='main'
)
insert into public.categories (menu_id, tenant_id, name, description, sort_order, is_special)
select mid, tid, 'Coffee', 'Fresh roasts', 1, false from garden_menu
union all
select mid, tid, 'Desserts', 'Daily baked', 2, false from garden_menu
on conflict do nothing;

with garden as (
  select c.id cid, c.tenant_id tid
  from public.categories c
  join public.menus m on m.id = c.menu_id
  join public.tenants t on t.id = m.tenant_id
  where t.slug='garden' and m.slug='main' and c.name='Coffee'
)
insert into public.menu_items (category_id, tenant_id, name, description, price, tags)
select cid, tid, 'Flat White','Double shot espresso with velvety milk', 2.80, array['coffee']
from garden
on conflict do nothing;

